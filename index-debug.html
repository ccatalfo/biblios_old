<html>
<head>
<script type="text/javascript" src="lib/google_gears/gears_init.js"></script>
<script>
  if (!window.google || !google.gears) {
	  location.href = "http://gears.google.com/?action=install&message=Install Google Gears to use this Cataloging Application" +
                    "&return="+document.URL;
  }
</script>
<script type="text/javascript">
  // set debug to 0 to disable logging to firebug
var debug = 1;
var db_debug = 0;
</script>
<!-- fckeditor 
<script type="text/javascript" src="lib/fckeditor/fckeditor.js"></script>
-->

<!-- Sarissa -->
<script type="text/javascript" src="lib/sarissa/sarissa.js"></script>
<script src="lib/sarissa/sarissa_ieemu_xpath.js"		type="text/javascript"></script>
<!-- Jquery -->
<script type="text/javascript" src="lib/jquery/jquery-1.1.3.1.js"></script>
<script src="lib/jquery/jquery.debug.js"	type="text/javascript"></script>
<script type="text/javascript" src="lib/jquery/jquery.xslTransform.packed.js"></script>
<script type="text/javascript" src="lib/jquery/jquery-plugins.js"></script>
<script type="text/javascript" src="lib/jquery/ajaxfileupload.js"></script>
<script type="text/javascript" src="lib/jquery/jquery.dimensions.pack.js"></script>
<script type="text/javascript" src="lib/jquery/interface.js"></script>
<script type="text/javascript" src="lib/jquery/jquery.autocomplete.js"></script>
<script type="text/javascript" src="lib/jquery/jQuery.frameReady.js"></script>
<script type="text/javascript" src="lib/jquery/jquery.replaceWith.js"></script>
<script type="text/javascript" src="lib/jquery/jquery.hotkeys.js"></script>
<script type="text/javascript" src="lib/jquery/jquery.livequery.min.js"></script>
<script type="text/javascript" src="lib/jquery/JQuery.moreSelectors.js"></script>
<script type="text/javascript" src="lib/jquery/jquery.jeditable.pack.js"></script>
<script type="text/javascript" src="lib/jquery/jquery.getPos.js"></script>
<link rel="stylesheet" type="text/css" href="lib/jquery/jquery.autocomplete.css">


<!-- tinyMCE integration -->
<!--<script type="text/javascript" src="lib/tiny_mce.js"></script>
<script type="text/javascript">
tinyMCE.init({
	mode: 'textareas',
	theme: 'simple'
});
</script>-->
<!-- YUI rich text editor -->
<style>
	.yui-toolbar-subcont {
		display:none;
	}
	.yui-toolbar-titlebar {
		display:none;
	}
</style>
<!-- Skin CSS file -->
<link rel="stylesheet" type="text/css" href="lib/yui/build/assets/skins/sam/skin.css">

<!-- Utility Dependencies -->
<script src="lib/yui/build/utilities/utilities.js"></script>

<!-- Needed for Menus, Buttons and Overlays used in the Toolbar -->
<script src="lib/yui/build/container/container-min.js"></script>
<script src="lib/yui/build/menu/menu-min.js"></script>
<script src="lib/yui/build/button/button-beta-min.js"></script>
<!-- for yui autocomplete 
<script src="lib/yui/build/yahoo-dom-event/yahoo-dom-event.js"></script>
<script src="lib/yui/build/connection/connection-min.js"></script>
<script src="lib/yui/build/autocomplete/autocomplete-min.js"></script>
<!-- css for yui autocomplete -->
<link rel="stylesheet" type="text/css" href="lib/yui/build/assets/skins/sam/autocomplete.css">
-->

<!-- Source file for Rich Text Editor-->
<script src="lib/yui/build/editor/editor-beta-debug.js"></script>

<!-- ExtJs -->
<script type="text/javascript" src="lib/extjs/ext-yui-adapter.js"></script>
<script type="text/javascript" src="lib/extjs/ext-jquery-adapter.js"></script>
<script type="text/javascript" src="lib/extjs/ext-all-debug.js"></script>

<!-- pazpar2 library -->
<script type="text/javascript" src="lib/pz2.js"></script>

<!-- our own javascript app files -->
<script type="text/javascript" src="ui/js/marcrecord.js"></script>
<script type="text/javascript" src="ui/js/db.js"></script>
<script type="text/javascript" src="ui/js/search.js"></script>
<script type="text/javascript" src="ui/js/init.js"></script>
<script type="text/javascript" src="ui/js/prefs.js"></script>
<script type="text/javascript" src="ui/js/ui.js"></script>
<script type="text/javascript" src="ui/js/save.js"></script>
<script type="text/javascript" src="ui/js/edit.js"></script>
<script type="text/javascript" src="ui/js/options.js"></script>

<!-- additions to Extjs library for this project -->
<script type="text/javascript" src="lib/extjs/PagingToolbarRemoveButton.js"></script>
<script type="text/javascript" src="lib/extjs/PagingMemoryProxy.js"></script>
<script type="text/javascript" src="lib/extjs/InlineTextField.js"></script>
<script type="text/javascript" src="lib/extjs/InlineTextArea.js"></script>
<script type="text/javascript" src="lib/extjs/InlineComboBox.js"></script>

<link type="text/css" rel="stylesheet" href="lib/extjs/resources/css/ext-all.css" />
<link type="text/css" rel="stylesheet" href="lib/extjs/InlineFormFields.css" />

<!-- our own style sheets -->
<link type="text/css" rel="stylesheet" href="ui/css/styles.css" />
<link type="text/css" rel="stylesheet" href="ui/css/editor-styles.css" />

<style>
.loading-indicator {
  font-size:8pt;
  background-image: url('lib/extjs/resources/images/default/grid/loading.gif');
  background-repeat: no-repeat;
  background-position:top left;
  padding-left:20px;
	height:18px;
	text-align:left;
}
#loading{
	position:absolute;
	left:45%;
	top:40%;
	border:1px solid #6593cf;
	padding:2px;
	background:#c3daf9;
	width:150px;
	text-align:center;
	z-index:20001;
}
#loading .loading-indicator{
	border:1px solid #a3bad9;
	background:white url('lib/extjs/resources/images/block-bg.gif') repeat-x;
	color:#003366;
	font:bold 13px tahoma,arial,helvetica;
	padding:10px;
	margin:0;
}

</style>

</head>

<body>
<!-- loading mask area -->
<div id="loading-mask" style="width:100%;height:100%;background:#c3daf9;p osition:absolute;z-index:20000;left:0;top:0;"> </div>
<div id="loading">
<div class="loading-indicator"><img src="../resources/images/default/grid/loading.gif" style="width:16px;height:16px;" align="absmiddle"> Loading...</div>
</div>

<div id='top-panel'>
	<div id='header'>
		<div id='login'>Logged in as </div>
	</div>
	<div id='header_search'>
	  <div id='searchform'>
	 	<p class='searchtip'>Enter a search term and choose a search type</p>
		<form onsubmit='doPazPar2Search(this); return false;'>
			<input id='query' class='focus' type='text' size='40' name='query'/>
			<select id='searchtype'>	
				<option value=''>Keyword</option>
				<option value='ti'>Title</option>
				<option value='au'>Author</option>
				<option value='su'>Subject</option>
				<option value='isbn'>ISBN</option>
				<option value='issn'>ISSN</option>
			</select>
			<input type='submit' value='Search'>
		</form>
	  </div>
	</div>
</div> <!-- top panel -->
<div id="tab-panel">
	<div id='hometab'>

	</div>
    <div id='bibliotab'>
    <div id='folder-list'>
      <div id='status-box'></div>
    </div>
        <div id='work-panel'>
            <div id='upper-panel'>
					<div id='home-panel'>

					</div>
					<div id='searchgridpanel'>
						  <div id='searchgrid-toolbar'></div>
						  <div id='searchgrid'></div>
					</div>
					<div id='savegridpanel'>
						  <div id='savegrid-toolbar'></div>
						  <div id='savegrid'></div>
					</div>
					 <div id='marceditor'>
							  <div id='editor-toolbar'></div>
							  <div id='record-toolbar'>
									<ul>
										<li id='record-toolbar-handle'></li>
										<li id='tb1'></li>
										<li id='tb2'></li>
										<li id='tb3'></li>
									</ul>
								</div>
							  <div id='marccontent'>
								  <div id='ffeditor'></div>
								  <div id='vareditor'>
									<!--
								  <script type="text/javascript">
									  var oFCKeditor = new FCKeditor('FCKeditor1');
									  oFCKeditor.BasePath = "lib/fckeditor/";
									  oFCKeditor.Create();
								  </script>
									-->
								  
								  </div>
							  </div>
					 </div>
             </div> <!-- upper-panel -->
             <div id='left-panel'></div>
            <div id='lower-panel'>
                <div id='search-prev'></div>
                <div id='save-prev'></div>
            </div>
            <div id='right-panel'></div>
        </div> <!-- work-panel -->
    </div>
</div>
<div id='south'></div>

<!-- dialogs -->
<div id='options-dlg'></div>
<div id='search-dlg'></div>
<div id='upload-dlg'></div>
<div id='newrecord-dlg'></div>

<script>
Ext.onReady(function(){
    init_gears();
    initPrefs();
    initUI();
    createHomeTab();	
	 createBiblioTab();
    createOptionsTab();	

// remove loading box
  var loading = Ext.get('loading');
  var mask = Ext.get('loading-mask');
  mask.setOpacity(.8);
  mask.shift({
  	xy:loading.getXY(),
  	width:loading.getWidth(),
  	height:loading.getHeight(), 
  	remove:true,
  	duration:1,
  	opacity:.3,
  	easing:'bounceOut',
  	callback : function(){
  		loading.fadeOut({duration:.2,remove:true});
  	}
  });
});



</script>
</body>
</html>

